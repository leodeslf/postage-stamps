{"version":3,"sources":["Components/Stamp.js","PS.js","index.js"],"names":["Stamp","BACK_APP","PIXI","width","height","view","className","document","querySelector","this","props","id","appendChild","BACK","from","back","BACK_MAP","backMap","stage","addChild","BACK_DIS_FIL","DisplacementFilter","filters","scale","x","y","double","FRONT_APP","transparent","FRONT","front","FRONT_MAP","frontMap","FRONT_DIS_FIL","window","addEventListener","e","SCALE_X","clientX","innerWidth","SCALE_Y","clientY","innerHeight","type","htmlFor","nameStart","nameBold","nameFinish","cost","owner","date","desc","cameraMan","Component","PS","STAMPS","map","item","key","image","render","getElementById"],"mappings":"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","file":"static/js/main.52443346.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport * as PIXI from 'pixi.js';\r\n\r\nconst W = 340;\r\nconst H = 210;\r\nconst FACTOR = 10.25;\r\n//const DIVISOR = window.innerWidth * 0.045;\r\n\r\nexport default class Stamp extends Component {\r\n  componentDidMount() {\r\n    // App\r\n    const BACK_APP = new PIXI.Application({ width: W, height: H });\r\n    BACK_APP.view.className = 'back';\r\n    document.querySelector(`#stamp-${this.props.id} .layer--back`).appendChild(BACK_APP.view);\r\n    // Image\r\n    const BACK = new PIXI.Sprite.from(this.props.back);\r\n    const BACK_MAP = new PIXI.Sprite.from(this.props.backMap);\r\n    BACK_APP.stage.addChild(BACK, BACK_MAP);\r\n    // Displacement\r\n    const BACK_DIS_FIL = new PIXI.filters.DisplacementFilter(BACK_MAP);\r\n    BACK_APP.stage.filters = [BACK_DIS_FIL];\r\n    BACK_DIS_FIL.scale.x = 0;\r\n    BACK_DIS_FIL.scale.y = 0;\r\n\r\n    if (!this.props.double) {\r\n      window.addEventListener('mousemove', e => {\r\n        // Interaction\r\n        BACK_DIS_FIL.scale.x = (((e.clientX / window.innerWidth) - 0.5) * 2) * FACTOR;\r\n        BACK_DIS_FIL.scale.y = (((e.clientY / window.innerHeight) - 0.5) * 2) * FACTOR;\r\n      });\r\n    } else {\r\n      // Add \"background\" staff\r\n      // App\r\n      const FRONT_APP = new PIXI.Application({ width: W, height: H, transparent: true });\r\n      FRONT_APP.view.className = 'front';\r\n      document.querySelector(`#stamp-${this.props.id} .layer--front`).appendChild(FRONT_APP.view);\r\n      // Image\r\n      const FRONT = new PIXI.Sprite.from(this.props.front);\r\n      const FRONT_MAP = new PIXI.Sprite.from(this.props.frontMap);\r\n      FRONT_APP.stage.addChild(FRONT, FRONT_MAP);\r\n      // Displacement\r\n      const FRONT_DIS_FIL = new PIXI.filters.DisplacementFilter(FRONT_MAP);\r\n      FRONT_APP.stage.filters = [FRONT_DIS_FIL];\r\n      FRONT_DIS_FIL.scale.x = 0;\r\n      FRONT_DIS_FIL.scale.y = 0;\r\n\r\n      window.addEventListener('mousemove', e => {\r\n        // Interaction\r\n        const SCALE_X = (((e.clientX / window.innerWidth) - 0.5) * 2) * FACTOR;\r\n        const SCALE_Y = (((e.clientY / window.innerHeight) - 0.5) * 2) * FACTOR;\r\n        BACK_DIS_FIL.scale.x = SCALE_X;\r\n        BACK_DIS_FIL.scale.y = SCALE_Y;\r\n        FRONT_DIS_FIL.scale.x = SCALE_X;\r\n        FRONT_DIS_FIL.scale.y = SCALE_Y;\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"stamp\">\r\n        <input id={`stamp__chk-flip-${this.props.id}`}\r\n          className=\"stamp__chk-flip\"\r\n          type=\"checkbox\" ></input>\r\n        <label className=\"stamp__lbl-flip\"\r\n          htmlFor={`stamp__chk-flip-${this.props.id}`}>\r\n        </label>\r\n        <div className=\"stamp__front-face\" id={`stamp-${this.props.id}`}>\r\n          <div className=\"stamp__layers\" id={`stamp__layers--${this.props.id}`}>\r\n            <div className=\"layer--front\">\r\n              {/* view here */}\r\n            </div>\r\n            <div className=\"layer--back\">\r\n              {/* view bg here */}\r\n            </div>\r\n            <div className=\"layer--labels\">\r\n              <p className=\"label--name\">\r\n                {`${this.props.nameStart}`}\r\n                <span className=\"label--name__bold\">\r\n                  {` ${this.props.nameBold}`}\r\n                </span>\r\n                {` ${this.props.nameFinish}`}\r\n              </p>\r\n              <p className=\"label--cost\">\r\n                {this.props.cost}<span className=\"label--cost__cent\">&#162;</span>\r\n              </p>\r\n              <p className=\"label--owner\">\r\n                {this.props.owner}\r\n              </p>\r\n              <p className=\"label--date\">\r\n                {this.props.date}\r\n              </p>\r\n              <p>\r\n                <span className=\"cosax\" id={`x__${this.props.id}`}></span>\r\n                <span className=\"cosay\" id={`y__${this.props.id}`}></span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stamp__back-face\">\r\n          <div className=\"back-face__content\">\r\n            <p className=\"desc\">{this.props.desc}</p><br />\r\n            <p className=\"cameraman\">{this.props.cameraMan}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react';\nimport STAMPS from './apis/stamps.json';\nimport Stamp from './Components/Stamp.js';\n\nexport default class PS extends Component {\n  /* constructor(props) {\n    super(props);\n    this.state = {\n    }\n  } */\n\n  render() {\n    return (\n      <main className=\"PS\">\n        <section className=\"PS__content\">\n          <h1>Postage Stamps</h1>\n          <div className=\"stamp-gallery\">\n            {STAMPS.map(item => (\n              <Stamp\n                key={item.id}\n                id={item.id}\n                double={item.image.double}\n                front={item.image.front}\n                back={item.image.back}\n                frontMap={item.image.frontMap}\n                backMap={item.image.backMap}\n                nameStart={item.nameStart}\n                nameBold={item.nameBold}\n                nameFinish={item.nameFinish}\n                cost={item.cost}\n                date={item.date}\n                owner={item.owner}\n                desc={item.desc}\n                cameraMan={item.cameraMan} />\n            ))}\n          </div>\n        </section>\n      </main>\n    )\n  }\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport './sass/main.css';\nimport PS from './PS';\n\nrender(<PS />, document.getElementById('root'));"],"sourceRoot":""}